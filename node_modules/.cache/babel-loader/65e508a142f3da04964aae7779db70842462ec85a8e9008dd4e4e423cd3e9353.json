{"ast":null,"code":"import{id}from\"ethers/lib/utils\";import React,{useState,useEffect}from\"react\";import{Form,Button}from\"react-bootstrap\";import Add_students from\"./components/add_student\";import Add_teacher from\"./components/add_teacher\";import View_result from\"./components/view_results\";//import { CSVLink, CSVDownload } from \"react-csv\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Admin_page(props){const[component,setComponent]=useState(\"Add_students\");const[isteacher,setisteacher]=useState(null);/*\r\n    const [students, setStudents] = useState(null);\r\n    const [answer_hashs, setAnswer_hashs] = useState(null);\r\n    const [quiz_data, setQuiz_data] = useState(null);\r\n    const [csvdownloader, setCsvdownloader] = useState(false);\r\n    const quiz_id = 10;\r\n    \r\n\r\n    const handle_export_csv = () => {\r\n        let quiz_data = []\r\n        for (let i = 0; i < students.length; i++) {\r\n            quiz_data.push([students[i].toString(), (answer_hashs[students[i]]).toString()]);\r\n        }\r\n        setQuiz_data(quiz_data);\r\n        setCsvdownloader(true);\r\n    }\r\n\r\n    function Create_csvlink(props) {\r\n        return (\r\n            <div>\r\n                <div><CSVLink filename={`quiz_answers${props.cont[1]}.csv`} variant=\"primary\" data={props.cont[0]}>こちらから学生の成績データをダウンロード</CSVLink></div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n    */const handleClick=event=>{const{name}=event.target;console.log(name);setComponent(name);};useEffect(()=>{async function is_teacher(){setisteacher(await props.cont.isTeacher());}/*\r\n        async function get_student_list() {\r\n            setStudents(await props.cont.get_student_list());\r\n        }\r\n        */is_teacher();//get_student_list();\n},[]);/*\r\n    useEffect(() => {\r\n        async function answer_hashs() {\r\n            setAnswer_hashs(await props.cont.get_students_answer_hash_list(students, quiz_id));\r\n        }\r\n        answer_hashs();\r\n    }, [students]);\r\n    */ //console.log(students);\n//console.log(answer_hashs);\nif(isteacher){return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"70%\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"Add_students\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u751F\\u5F92\\u3092\\u8FFD\\u52A0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"Add_teacher\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u6559\\u54E1orTA\\u3092\\u8FFD\\u52A0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",style:{margin:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"View_result\",className:\"btn btn-primary\",onClick:handleClick,children:\"\\u751F\\u5F92\\u306E\\u6210\\u7E3E\\u3092\\u95B2\\u89A7\"})}),component===\"Add_students\"&&/*#__PURE__*/_jsx(Add_students,{cont:props.cont}),component===\"Add_teacher\"&&/*#__PURE__*/_jsx(Add_teacher,{cont:props.cont}),component===\"View_result\"&&/*#__PURE__*/_jsx(View_result,{cont:props.cont})]});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}export default Admin_page;","map":{"version":3,"names":["id","React","useState","useEffect","Form","Button","Add_students","Add_teacher","View_result","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin_page","props","component","setComponent","isteacher","setisteacher","handleClick","event","name","target","console","log","is_teacher","cont","isTeacher","style","width","margin","children","className","type","onClick"],"sources":["C:/Users/takap/OneDrive - Chiba Institute of Technology/デスクトップ/web3-sotuken/src/pages/admin_page/admin.jsx"],"sourcesContent":["import { id } from \"ethers/lib/utils\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport Add_students from \"./components/add_student\";\r\nimport Add_teacher from \"./components/add_teacher\";\r\nimport View_result from \"./components/view_results\";\r\n//import { CSVLink, CSVDownload } from \"react-csv\";\r\nfunction Admin_page(props) {\r\n    const [component, setComponent] = useState(\"Add_students\");\r\n    const [isteacher, setisteacher] = useState(null);\r\n    /*\r\n    const [students, setStudents] = useState(null);\r\n    const [answer_hashs, setAnswer_hashs] = useState(null);\r\n    const [quiz_data, setQuiz_data] = useState(null);\r\n    const [csvdownloader, setCsvdownloader] = useState(false);\r\n    const quiz_id = 10;\r\n    \r\n\r\n    const handle_export_csv = () => {\r\n        let quiz_data = []\r\n        for (let i = 0; i < students.length; i++) {\r\n            quiz_data.push([students[i].toString(), (answer_hashs[students[i]]).toString()]);\r\n        }\r\n        setQuiz_data(quiz_data);\r\n        setCsvdownloader(true);\r\n    }\r\n\r\n    function Create_csvlink(props) {\r\n        return (\r\n            <div>\r\n                <div><CSVLink filename={`quiz_answers${props.cont[1]}.csv`} variant=\"primary\" data={props.cont[0]}>こちらから学生の成績データをダウンロード</CSVLink></div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n    */\r\n\r\n    const handleClick = (event) => {\r\n        const { name } = event.target;\r\n        console.log(name);\r\n        setComponent(name);\r\n    };\r\n\r\n    useEffect(() => {\r\n        async function is_teacher() {\r\n            setisteacher(await props.cont.isTeacher());\r\n        }\r\n        /*\r\n        async function get_student_list() {\r\n            setStudents(await props.cont.get_student_list());\r\n        }\r\n        */\r\n\r\n        is_teacher();\r\n        //get_student_list();\r\n    }, []);\r\n\r\n    /*\r\n    useEffect(() => {\r\n        async function answer_hashs() {\r\n            setAnswer_hashs(await props.cont.get_students_answer_hash_list(students, quiz_id));\r\n        }\r\n        answer_hashs();\r\n    }, [students]);\r\n    */\r\n\r\n    //console.log(students);\r\n    //console.log(answer_hashs);\r\n    if (isteacher) {\r\n        return (\r\n            <div style={{ width: \"70%\", margin: \"0 auto\" }}>\r\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\r\n                    <button type=\"button\" name=\"Add_students\" className=\"btn btn-primary\" onClick={handleClick}>\r\n                        生徒を追加\r\n                    </button>\r\n                </div>\r\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\r\n                    <button type=\"button\" name=\"Add_teacher\" className=\"btn btn-primary\" onClick={handleClick}>\r\n                        教員orTAを追加\r\n                    </button>\r\n                </div>\r\n                <div className=\"btn-group\" style={{ margin: \"20px\" }}>\r\n                    <button type=\"button\" name=\"View_result\" className=\"btn btn-primary\" onClick={handleClick}>\r\n                        生徒の成績を閲覧\r\n                    </button>\r\n                </div>\r\n\r\n                {/* name={\"回答の追加\"} variable={answer_data} variable1={correct} set={setAnswer_data} set1={setCorrect}/ */}\r\n                {component === \"Add_students\" && <Add_students cont={props.cont} />}\r\n                {component === \"Add_teacher\" && <Add_teacher cont={props.cont} />}\r\n                {component === \"View_result\" && <View_result cont={props.cont} />}\r\n                {/*\r\n                {answer_hashs ? <Button variant=\"primary\" onClick={() => handle_export_csv()}>quiz_id[{quiz_id}]のCSVファイルの出力</Button> : \"\"}\r\n                {csvdownloader === true && <Create_csvlink cont={[quiz_data, quiz_id]} />}\r\n                */}\r\n            </div>\r\n        );\r\n    } else {\r\n        return (<></>);\r\n    }\r\n}\r\n\r\nexport default Admin_page;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}